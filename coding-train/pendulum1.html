<!DOCTYPE html>
<html lang="en">
  <head>
  	<!-- https://editor.p5js.org/codingtrain/sketches/SN-39sHAC -->
  	<!-- https://github.com/nature-of-code/noc-examples-p5.js/tree/master/chp03_oscillation/NOC_3_10_PendulumExampleSimplified -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>
    <meta charset="utf-8" />
    <style>
		html, body {
		  margin: 0;
		  padding: 0;
		}
		canvas {
		  display: block;
		}
	</style>
  </head>
  <body>
    <script>
		// Simple Pendulum Simulation
		// The Coding Train / Daniel Shiffman
		// https://thecodingtrain.com/CodingChallenges/159-simple-pendulum-simulation.html
		// https://youtu.be/NBWMtlbbOag
		// https://editor.p5js.org/codingtrain/sketches/SN-39sHAC

		let angle;

		let angleV = 0;
		let angleA = 0;

		let bob;
		let len;
		let origin;

		let gravity = 1;

		function setup() {
		  createCanvas(600, 800);
		  origin = createVector(300, 0);
		  angle = PI / 4;
		  bob = createVector();
		  len = 200;
		}

		function draw() {
		  background(0);

		  let force = gravity * sin(angle);
		  angleA = (-1 * force) / len;
		  angleV += angleA;
		  angle += angleV;

		  // angleV *= 0.99;

		  bob.x = len * sin(angle) + origin.x;
		  bob.y = len * cos(angle) + origin.y;

		  stroke(255);
		  strokeWeight(8);
		  fill(127);
		  line(origin.x, origin.y, bob.x, bob.y);
		  circle(bob.x, bob.y, 64);
		}
    </script>
  </body>
</html>
